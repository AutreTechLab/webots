#VRML_SIM R2021a utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license url: https://cyberbotics.com/webots_assets_license
# documentation url: https://www.cyberbotics.com/doc/guide/puma
# The PUMA robotic arm (for "Programmable Universal Machine for Assembly") is a six axes arm with three axes making up a spherical wrist.

PROTO Puma560 [
  field SFVec3f    translation     0 0 0       # Is `Transform.translation`.
  field SFRotation rotation        0 1 0 0     # Is `Transform.rotation`.
  field SFString   name            "PUMA 560"  # Is `Solid.name`.
  field SFString   controller      "puma560"   # Is `Robot.controller`.
  field MFString   controllerArgs  []          # Is `Robot.controllerArgs`.
  field SFString   customData      ""          # Is `Robot.customData`.
  field SFBool     supervisor      FALSE       # Is `Robot.supervisor`.
  field SFBool     synchronization TRUE        # Is `Robot.synchronization`.
  field MFNode     bodySlot        [Transform{}]          # Extends the robot with new nodes in the body slot.
  field MFNode     gripperSlot     [Transform{}]          # Extends the robot with new nodes in the gripper slot.
]
{
  Robot {
    translation IS translation
    rotation IS rotation
    controller IS controller
    controllerArgs IS controllerArgs
    customData IS customData
    supervisor IS supervisor
    synchronization IS synchronization
    name IS name
    children [
      Solid {
        name "bodySlot"
        children IS bodySlot
      }
      DEF BASE_GROUP Group {
        children [
          Transform {
            translation 0 0.308 0
            children [
              Shape {
                appearance DEF DARK PBRAppearance {
                  baseColor 0.301961 0.301961 0.301961
                  roughness 0.3
                  metalness 0
                }
                geometry Cylinder {
                  height 0.56
                  radius 0.09
                }
              }
            ]
          }
          Transform {
            translation 0 0.02 0
            children [
              Shape {
                appearance USE DARK
                geometry Cylinder {
                  height 0.04
                  radius 0.18
                  subdivision 18
                }
              }
            ]
          }
          Transform {
            translation -0.146 0.185 0
            children [
              Shape {
                appearance USE DARK
                geometry Cylinder {
                  height 0.18
                  radius 0.055
                }
              }
            ]
          }
          Transform {
            translation -0.146 0.05 0
            children [
              Shape {
                appearance USE DARK
                geometry Box {
                  size 0.15 0.105 0.105
                }
              }
            ]
          }
        ]
      }
      DEF Shoulder HingeJoint {
        jointParameters HingeJointParameters {
          axis 0 1 0
          anchor 0 0.669 0
          minStop -2.792
          maxStop 2.792
        }
        device [
          RotationalMotor {
            name "joint1"
            maxVelocity 99999
            minPosition -2.792
            maxPosition 2.792
            maxTorque 97.6
          }
        ]
        endPoint Solid {
          translation 0 0.669 0
          children [
            DEF SHOULDER_GROUP Group {
              children [
                DEF SHOULDER_SHAFT Transform {
                  translation 0 0 -0.035
                  rotation 1 0 0 -1.5708
                  children [
                    Shape {
                      appearance DEF WHITE PBRAppearance {
                        metalness 0
                        roughness 0.4
                      }
                      geometry Cylinder {
                        height 0.26
                        radius 0.082
                      }
                    }
                  ]
                }
                Transform {
                  translation 0 0 -0.177
                  rotation 1 0 0 -1.5708
                  children [
                    Shape {
                      appearance USE WHITE
                      geometry Cylinder {
                        height 0.03
                        radius 0.12
                      }
                    }
                  ]
                }
                Transform {
                  translation 0 -0.041 0
                  children [
                    Shape {
                      appearance USE WHITE
                      geometry Cylinder {
                        height 0.08
                        radius 0.09
                      }
                    }
                  ]
                }
              ]
            }
            DEF UpperArm HingeJoint {
              jointParameters HingeJointParameters {
                axis 0 0 -1
                anchor 0 0 -0.1622
              }
              device [
                RotationalMotor {
                  name "joint2"
                  maxVelocity 99999
                  minPosition -3.9269
                  maxPosition 0.7854
                  maxTorque 186.4
                }
              ]
              endPoint Solid {
                translation 0 0 -0.1622
                rotation 0 0 -1 0
                children [
                  Transform {
                    rotation 1 0 0 -1.5708
                    children [
                      DEF UNIMATE_LOGO Transform {
                        translation -0.05 0.135 -0.079
                        scale 6 4 1
                        children [
                          Shape {
                            appearance PBRAppearance {
                              metalness 0
                              roughness 0.4
                              baseColorMap ImageTexture {
                                url [
                                  "textures/unimate.png"
                                ]
                                repeatT FALSE
                              }
                              textureTransform TextureTransform {
                                center 1 -0.1
                                scale 1 1.2
                              }
                            }
                            geometry Plane {
                              size 0.05 0.06
                            }
                          }
                        ]
                      }
                      DEF PUMA_LOGO Transform {
                        translation 0.1355 0.135 0
                        scale 6 4 1
                        children [
                          Shape {
                            appearance PBRAppearance {
                              metalness 0
                              roughness 0.4
                              baseColorMap ImageTexture {
                                url [
                                  "textures/puma560.jpg"
                                ]
                                repeatT FALSE
                              }
                              textureTransform TextureTransform {
                                center 1 -0.1
                                scale 1 1.2
                              }
                            }
                            geometry Plane {
                              size 0.123 0.04
                            }
                          }
                        ]
                      }
                      Shape {
                        appearance USE WHITE
                        geometry DEF UpperArm_FACES Puma560Mesh0 {
                        }
                      }
                      Shape {
                        appearance USE WHITE
                        geometry DEF UpperArm_FACES Puma560Mesh1 {
                        }
                      }
                    ]
                  }
                  DEF Wrist1 HingeJoint {
                    jointParameters HingeJointParameters {
                      axis 0 0 -1
                      anchor 0.42 0 0.086
                    }
                    device [
                      RotationalMotor {
                        name "joint3"
                        maxVelocity 99999
                        minPosition -0.7854
                        maxPosition 3.9269
                        maxTorque 89.4
                      }
                    ]
                    endPoint Solid {
                      translation 0.42 0 0.086
                      rotation 0 0 -1 0
                      children [
                        DEF Writst2 HingeJoint {
                          jointParameters HingeJointParameters {
                            axis 0 1 0
                            anchor -0.02 0.353 -0.074
                            minStop -1.9198
                            maxStop 2.967
                          }
                          device [
                            RotationalMotor {
                              name "joint4"
                              maxVelocity 99999
                              minPosition -1.9198
                              maxPosition 2.967
                              maxTorque 24.2
                            }
                          ]
                          endPoint Solid {
                            translation -0.02 0.353 -0.074
                            children [
                              DEF Wrist3 HingeJoint {
                                jointParameters HingeJointParameters {
                                  axis 0 0 -1
                                  anchor 0 0.079 0
                                  minStop -1.7453
                                  maxStop 1.7453
                                }
                                device [
                                  RotationalMotor {
                                    name "joint5"
                                    maxVelocity 99999
                                    minPosition -1.7453
                                    maxPosition 1.7453
                                    maxTorque 20.1
                                  }
                                ]
                                endPoint Solid {
                                  translation 0 0.079 0
                                  rotation 0 0 -1 0
                                  children [
                                    DEF JOINT5_TRANS Transform {
                                      rotation 1 0 0 -1.571
                                      children [
                                        Shape {
                                          appearance DEF DARK_JOIN PBRAppearance {
                                            baseColor 0.1 0.1 0.1
                                            roughness 0.4
                                            metalness 0
                                          }
                                          geometry Cylinder {
                                            height 0.088
                                            radius 0.041
                                          }
                                        }
                                      ]
                                    }
                                    DEF Wrist4 HingeJoint {
                                      jointParameters HingeJointParameters {
                                        axis 0 1 0
                                        anchor 0 -0.08 0
                                      }
                                      device [
                                        RotationalMotor {
                                          name "joint6"
                                          maxVelocity 99999
                                          minPosition -4.6425
                                          maxPosition 4.6425
                                          maxTorque 21.3
                                        }
                                      ]
                                      endPoint Solid {
                                        translation 0 -0.08 0
                                        children [
                                          Solid {
                                            name "gripperSlot"
                                            children IS gripperSlot
                                          }
                                          DEF WRIST_GROUP Group {
                                            children [
                                              Transform {
                                                translation 0 0.136 0
                                                children [
                                                  Shape {
                                                    appearance USE DARK
                                                    geometry Cylinder {
                                                      height 0.05
                                                      radius 0.019
                                                    }
                                                  }
                                                ]
                                              }
                                              Transform {
                                                translation 0 0.1845 0
                                                children [
                                                  Shape {
                                                    appearance USE DARK
                                                    geometry Cylinder {
                                                      height 0.047
                                                      radius 0.026
                                                    }
                                                  }
                                                ]
                                              }
                                              Transform {
                                                translation 0 0.222 0
                                                children [
                                                  Shape {
                                                    appearance USE WHITE
                                                    geometry Cylinder {
                                                      height 0.03
                                                      radius 0.015
                                                    }
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                          DEF GripperR SliderJoint {
                                            jointParameters JointParameters {
                                              axis -1 0 0
                                            }
                                            device [
                                              LinearMotor {
                                                name "joint_GripperR"
                                                minPosition -0.004
                                                maxPosition 0.01
                                              }
                                            ]
                                            endPoint Solid {
                                              translation -0.007 0.23 0
                                              rotation 0 1 0 -1.5708
                                              children [
                                                Transform {
                                                  rotation 0 1 0 1.5708
                                                  children [
                                                    Shape {
                                                      appearance USE DARK_JOIN
                                                      geometry DEF GripperR_FACES Puma560Mesh2 {
                                                      }
                                                    }
                                                    Shape {
                                                      appearance DEF CREAM PBRAppearance {
                                                        baseColor 0.8314 0.8078 0.7451
                                                        metalness 0
                                                        roughness 0.4
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                              name "GripperR"
                                              boundingObject DEF GRIP_BO Transform {
                                                translation 0 0.023 0
                                                children [
                                                  Box {
                                                    size 0.021 0.031 0.006
                                                  }
                                                ]
                                              }
                                              physics Physics {
                                              }
                                            }
                                          }
                                          DEF GripperL SliderJoint {
                                            jointParameters JointParameters {
                                              axis 1 0 0
                                            }
                                            device [
                                              LinearMotor {
                                                name "joint_GripperL"
                                                minPosition -0.004
                                                maxPosition 0.01
                                              }
                                            ]
                                            endPoint Solid {
                                              translation 0.007 0.23 0
                                              rotation 0 1 0 1.5708
                                              children [
                                                DEF GripperL Transform {
                                                  rotation 0 1 0 -1.5708
                                                  children [
                                                    Shape {
                                                      appearance USE DARK_JOIN
                                                      geometry DEF GripperL_FACES Puma560Mesh3 {
                                                      }
                                                    }
                                                    Shape {
                                                      appearance USE CREAM
                                                    }
                                                  ]
                                                }
                                              ]
                                              name "GripperL"
                                              boundingObject USE GRIP_BO
                                              physics Physics {
                                              }
                                            }
                                          }
                                        ]
                                        boundingObject USE WRIST_GROUP
                                        physics Physics {
                                        }
                                      }
                                    }
                                  ]
                                  boundingObject USE JOINT5_TRANS
                                  physics Physics {
                                  }
                                }
                              }
                              DEF JOINT4_TRANS Transform {
                                translation 0 0.019 0
                                children [
                                  Shape {
                                    appearance USE DARK_JOIN
                                    geometry Box {
                                      size 0.085 0.039 0.087
                                    }
                                  }
                                ]
                              }
                            ]
                            boundingObject USE JOINT4_TRANS
                            physics Physics {
                            }
                          }
                        }
                        Transform {
                          translation 0 0 -0.074
                          rotation 1 0 0 -1.571
                          children [
                            Shape {
                              appearance USE WHITE
                              geometry DEF LowerArm_FACES Puma560Mesh4 {
                              }
                            }
                          ]
                        }
                        DEF ARTLAB_LOGO Transform {
                          translation -0.016 0.122 -0.03
                          rotation 0.5773502691896258 0.5773502691896258 0.5773502691896258 2.0944
                          children [
                            Shape {
                              appearance PBRAppearance {
                                baseColorMap ImageTexture {
                                  url [
                                    "textures/artlab_logo.png"
                                  ]
                                }
                                metalness 0
                                roughness 0.4
                              }
                              geometry Plane {
                                size 0.35 0.06
                              }
                            }
                          ]
                        }
                      ]
                      boundingObject Group {
                        children [
                          Transform {
                            translation -0.034 0.13 -0.074
                            rotation 0 0 1 -0.05
                            children [
                              Box {
                                size 0.08 0.44 0.088
                              }
                            ]
                          }
                          Transform {
                            translation 0.015 0.13 -0.074
                            rotation 0 0 1 0.14
                            children [
                              Box {
                                size 0.08 0.44 0.088
                              }
                            ]
                          }
                        ]
                      }
                      physics Physics {
                        centerOfMass [
                          -0.01 0.1 0
                        ]
                      }
                    }
                  }
                ]
                boundingObject Group {
                  children [
                    Transform {
                      translation -0.056 -0.007 -0.082
                      children [
                        Box {
                          size 0.25 0.29 0.105
                        }
                      ]
                    }
                    Transform {
                      translation 0.27 0.031 -0.082
                      rotation 0 0 1 -0.16
                      children [
                        Box {
                          size 0.43 0.14 0.105
                        }
                      ]
                    }
                    Transform {
                      translation 0.267 -0.039 -0.082
                      rotation 0 0 1 0.2
                      children [
                        Box {
                          size 0.43 0.14 0.105
                        }
                      ]
                    }
                  ]
                }
                physics Physics {
                  centerOfMass [
                    0.2 0 -0.07
                  ]
                }
              }
            }
          ]
          boundingObject USE SHOULDER_SHAFT
          physics Physics {
            centerOfMass [
              0 0 -0.1
            ]
          }
        }
      }
    ]
  }
}
